<!-- Main content -->
<section class="content">
  <!-- Default box -->
  <div class="card">
    <div class="card-header">
     <h3 class="card-title">{{ isEditMode ? 'Editar Usuario' : 'Crear Usuario' }}</h3>

      <div class="card-tools">
        <button type="button" class="btn btn-tool" data-card-widget="collapse" title="Collapse">
          <i class="fas fa-minus"></i>
        </button>
        <button type="button" class="btn btn-tool" data-card-widget="remove" title="Remove">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </div>
    <div class="card-body">
       <form [formGroup]="usuarioForm" (ngSubmit)="onSubmit()">
        
        <!-- Nombre de usuario y contraseña -->
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label>Nombre de Usuario</label>
              <input formControlName="nombreUsuario" class="form-control" placeholder="Ingrese nombre de usuario" />
              <div *ngIf="usuarioForm.get('nombreUsuario')?.touched && usuarioForm.get('nombreUsuario')?.invalid" class="text-danger">
                El nombre de usuario es requerido
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label>Contraseña</label>
              <input formControlName="contraseña" type="password" class="form-control" placeholder="Ingrese contraseña" />
              <div *ngIf="usuarioForm.get('contraseña')?.touched && usuarioForm.get('contraseña')?.invalid" class="text-danger">
                La contraseña es requerida
              </div>
            </div>
          </div>
        </div>

        <!-- Nombre y email -->
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label>Nombre</label>
              <input formControlName="nombre" class="form-control" placeholder="Ingrese nombre" />
              <div *ngIf="usuarioForm.get('nombre')?.touched && usuarioForm.get('nombre')?.invalid" class="text-danger">
                El nombre es requerido
              </div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label>Email</label>
              <input formControlName="email" type="email" class="form-control" placeholder="Ingrese email" />
              <div *ngIf="usuarioForm.get('email')?.touched && usuarioForm.get('email')?.hasError('email')" class="text-danger">
                Ingrese un email válido
              </div>
            </div>
          </div>
        </div>

        <!-- Estado activo y rol -->
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label>Estado</label>
              <select formControlName="isActive" class="form-control">
                <option value="true">Activo</option>
                <option value="false">Inactivo</option>
              </select>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label>Rol</label>
              <select formControlName="rol" class="form-control">
                <option value="">Seleccione</option>
                <option value="Administrador">Administrador</option>
                <option value="Medico">Médico</option>
                <option value="Residente">Residente</option>
              </select>
              <div *ngIf="usuarioForm.get('rol')?.touched && usuarioForm.get('rol')?.invalid" class="text-danger">
                El rol es requerido
              </div>
            </div>
          </div>
        </div>

        <!-- Botón Guardar -->
        <div class="row mt-4">
          <div class="col text-right">
            <button type="submit" [disabled]="usuarioForm.invalid" class="btn btn-primary">
              {{ isEditMode ? 'Actualizar' : 'Guardar' }}
            </button>
          </div>
        </div>
        
      </form>

    </div>
  </div>
  <!-- /.card-body -->

  <!-- /.card -->
</section>
<!-- /.content -->